{"version":3,"file":"129.genoverse.js","mappings":"oIAgFA,WAAiBA,WA7EF,WACb,IAAMC,EAAYC,KAEdC,GAAc,EACdC,EAAc,mBACdC,EAAc,oBACdC,EAAc,oBACdC,EAAc,iBAEdC,SAASC,sBAA0D,OAAlCD,SAASC,sBAG5CL,EAAc,qBACdC,EAAc,sBACdE,EAAc,mBACdD,EAAc,uBACLE,SAASE,KAAKC,sBACvBP,EAAc,sBACdC,EAAc,uBACdE,EAAc,sBACdD,EAAc,wBACLE,SAASE,KAAKE,yBACvBR,EAAc,yBACdC,EAAc,0BACdE,EAAc,yBACdD,EAAc,2BACJE,SAASK,qBACnBV,GAAY,GAGdF,EAAUa,eAAiB,CACzBV,UAAcA,EACdC,SAAcA,EACdE,WAAcA,EACdD,YAAcA,EAEdS,WAAY,SAACC,GACXA,EAAQC,mBAAqBD,EAAQE,eAAeC,QACpDH,EAAQE,eAAeE,SAAS,iBAChCJ,EAAQK,SAASC,OAAOC,YACxBP,EAAQQ,aAAaC,KAAK,8BAA8BC,YAAY,wBAAwBN,SAAS,yBACtG,EAEDO,UAAW,SAACX,GACNA,EAAQE,eAAeU,SAAS,mBAClCZ,EAAQE,eAAeQ,YAAY,iBACnCV,EAAQK,SAASL,EAAQC,oBACzBD,EAAQQ,aAAaC,KAAK,8BAA8BC,YAAY,0BAA0BN,SAAS,wBAE1G,EAEDS,cAAe,WACR5B,EAAUiB,eAAeY,GAAGtB,SAASP,EAAUa,eAAeT,aACjEJ,EAAUa,eAAea,UAAU1B,GACnCO,SAASuB,oBAAoB9B,EAAUa,eAAeV,UAAWH,EAAUa,eAAee,eAE7F,GAGC1B,GACFF,EAAU+B,SAASC,KAAK,CACtBC,KAAS,2CACTC,MAAS,uBACTC,KAAS,yBACTC,OAAS,SAACrB,GACJA,EAAQE,eAAeU,SAAS,iBAClCpB,SAASQ,EAAQF,eAAeP,eAEhCC,SAAS8B,iBAAiBtB,EAAQF,eAAeV,UAAWY,EAAQF,eAAee,eACnFb,EAAQE,eAAe,GAAGF,EAAQF,eAAeR,eACjDU,EAAQF,eAAeC,WAAWC,GAErC,GAGN,EAEoCuB,SAAUf,EAAAA,Q","sources":["webpack://genoverse/./src/js/plugins/fullscreen.js"],"sourcesContent":["import '../../css/fullscreen.css';\nimport controlPanel from './controlPanel';\n\nconst plugin = function () {\n  const genoverse = this;\n\n  let supported   = true;\n  let eventName   = 'fullscreenchange';  // All the browsers have different names\n  let elemName    = 'fullscreenElement'; // ... even the capitalisation varies!\n  let requestName = 'requestFullscreen';\n  let cancelName  = 'exitFullscreen';\n\n  if (document.onmsfullscreenchange || document.onmsfullscreenchange === null) {\n    // We need the IE11 version of this to work; IE9-10 have the actions but not the events.\n    // The key must be present, i.e. value may be null but it must not return undefined\n    eventName   = 'MSFullscreenChange';\n    elemName    = 'msFullscreenElement';\n    cancelName  = 'msExitFullscreen';\n    requestName = 'msRequestFullscreen';\n  } else if (document.body.mozRequestFullScreen) {\n    eventName   = 'mozfullscreenchange';\n    elemName    = 'mozFullScreenElement';\n    cancelName  = 'mozCancelFullScreen';\n    requestName = 'mozRequestFullScreen';\n  } else if (document.body.webkitRequestFullscreen) {\n    eventName   = 'webkitfullscreenchange';\n    elemName    = 'webkitFullscreenElement';\n    cancelName  = 'webkitCancelFullScreen';\n    requestName = 'webkitRequestFullscreen';\n  } else if (!document.onfullscreenchange) {\n    supported = false;\n  }\n\n  genoverse.fullscreenVars = {\n    eventName   : eventName,\n    elemName    : elemName,\n    cancelName  : cancelName,\n    requestName : requestName,\n\n    enterEvent: (browser) => {\n      browser.preFullscreenWidth = browser.superContainer.width();\n      browser.superContainer.addClass('gv-fullscreen');\n      browser.setWidth(window.innerWidth);\n      browser.controlPanel.find('.gv-fullscreen-button .fas').removeClass('fa-expand-arrows-alt').addClass('fa-compress-arrows-alt');\n    },\n\n    exitEvent: (browser) => {\n      if (browser.superContainer.hasClass('gv-fullscreen')) {\n        browser.superContainer.removeClass('gv-fullscreen');\n        browser.setWidth(browser.preFullscreenWidth);\n        browser.controlPanel.find('.gv-fullscreen-button .fas').removeClass('fa-compress-arrows-alt').addClass('fa-expand-arrows-alt');\n      }\n    },\n\n    eventListener: () => {\n      if (!genoverse.superContainer.is(document[genoverse.fullscreenVars.elemName])) {\n        genoverse.fullscreenVars.exitEvent(genoverse);\n        document.removeEventListener(genoverse.fullscreenVars.eventName, genoverse.fullscreenVars.eventListener);\n      }\n    },\n  };\n\n  if (supported) {\n    genoverse.controls.push({\n      icon   : '<i class=\"fas fa-expand-arrows-alt\"></i>',\n      class  : 'gv-fullscreen-button',\n      name   : 'Toggle fullscreen view',\n      action : (browser) => {\n        if (browser.superContainer.hasClass('gv-fullscreen')) {\n          document[browser.fullscreenVars.cancelName]();\n        } else {\n          document.addEventListener(browser.fullscreenVars.eventName, browser.fullscreenVars.eventListener);\n          browser.superContainer[0][browser.fullscreenVars.requestName]();\n          browser.fullscreenVars.enterEvent(browser);\n        }\n      },\n    });\n  }\n};\n\nexport default { fullscreen: plugin, requires: controlPanel };\n"],"names":["fullscreen","genoverse","this","supported","eventName","elemName","requestName","cancelName","document","onmsfullscreenchange","body","mozRequestFullScreen","webkitRequestFullscreen","onfullscreenchange","fullscreenVars","enterEvent","browser","preFullscreenWidth","superContainer","width","addClass","setWidth","window","innerWidth","controlPanel","find","removeClass","exitEvent","hasClass","eventListener","is","removeEventListener","controls","push","icon","class","name","action","addEventListener","requires"],"sourceRoot":""}