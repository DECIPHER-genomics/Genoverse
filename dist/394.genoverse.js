"use strict";(self.webpackChunkgenoverse=self.webpackChunkgenoverse||[]).push([[394],{4394:function(t,e,i){i.r(e);var n=i(5337);e.default={karyotype:function(t){var e=this.jQuery;function i(){var i=e('<div class="gv-chromosome">'),s=e('<div class="gv-karyotype-container">').html(i).insertBefore(this.wrapper),a=this.assembly||this.genomeName,o="".concat(t.showAssembly&&a?"".concat(a,": "):"","Chr ").concat(this.chr);t.showAssembly&&a&&s.addClass("gv-show-assembly");var r=e('<div class="gv-chromosome"><ul class="gv-label-container"><li><span class="gv-name">'.concat(o,"</span></li></ul></div>")).appendTo(s),h=!1===t.karyotypeLabel?0:r.find(".gv-name").outerWidth(!0)+10;r.remove(),this.karyotype=new Genoverse({parent:this,container:i,width:i.width(),genome:this.genome,chr:this.chr,start:1,end:this.chromosomeSize,isStatic:!0,tracks:[n.default.extend({name:o,height:20,featureHeight:20,border:!1,legend:!1,unsortable:!0,click:function(t){var i=this.container.parent().offset().left,n=t.pageX-i,s=this.featurePositions.search({x:n,y:1,w:1,h:1})[0];if(s)if("mouseup"===t.type)this.browser.parent.isStatic||this.browser.parent.moveTo(s.chr,s.start,s.end,!0);else if(this.hoverFeature!==s&&!this.browser.hideTooltip){if(this.container.tipsy("hide"),s.label){var a=i+s.position[this.scale].start+s.position[this.scale].width/2;this.container.attr("title",s.label[0]).tipsy({trigger:"manual",container:"body"}).tipsy("show").data("tipsy").$tip.css("left",(function(){return a-e(this).width()/2}))}this.hoverFeature=s}},addUserEventHandlers:function(){var t=this;this.base(),this.container.on({mousemove:function(e){t.click(e)},mouseout:function(e){if(t.browser.viewPoint.is(e.relatedTarget)||t.browser.viewPoint.find(e.relatedTarget).length)return!0;t.container.tipsy("hide"),t.hoverFeature=!1}},".gv-image-container"),this.container.on("mousewheel",".gv-image-container, .gv-selector",(function(t){t.stopPropagation()}))},afterSetName:function(){this.label.css("lineHeight","".concat(this.label.height(),"px"))}})],addUserEventHandlers:function(){},afterInit:function(){this.updatePosition(),this.viewPoint.fadeIn()},afterAddTracks:function(){this.track=this.tracks[0]},afterAddDomElements:function(){var i=this,n=this.parent;function a(){i.hideTooltip=!0,i.track.prop("container").tipsy("hide")}function o(t,s){i.hideTooltip=!1;var a=i.chromosomeSize/i.width,o="resizestop"===t.type?e(this).data("ui-resizable").axis:void 0,r="e"===o?n.start:Math.max(Math.floor(s.position.left*a),1),h="w"===o?n.end:"dragstop"===t.type?r+n.length-1:Math.floor(s.helper.outerWidth(!0)*a)+r;r===n.start&&h===n.end||n.moveTo(i.chr,r,h,!0,"dragstop"===t.type)}!1===t.karyotypeLabel?(this.labelContainer.remove(),this.labelContainer=e(),s.addClass("gv-no-label")):this.labelContainer.width(h),this.viewPoint=e('<div class="gv-karyotype-viewpoint-wrapper"><div class="gv-karyotype-viewpoint"></div></div>').appendTo(s).css({left:h,width:this.width-h}).children().on({mousemove:function(t){i.track.controller.click(t)},mouseout:function(t){var n=e(t.relatedTarget);if(i.viewPoint.is(n)||i.viewPoint.find(n).length||"IMG"===n.prop("nodeName")&&n.parent().is(i.track.prop("imgContainers")[0]))return!0;i.track.prop("container").tipsy("hide"),i.track.prop("hoverFeature",!1)}}),n.isStatic||this.viewPoint.draggable({axis:"x",containment:this.wrapper,start:a,stop:o}).resizable({handles:"e, w",containment:"parent",start:a,stop:o,resize:function(t,e){e.element.css("left",Math.max(0,e.position.left)),e.position.left>0?e.element.width(Math.min(e.size.width,e.element.parent().width()-e.position.left)):e.element.width(e.size.width+e.position.left)}})},updatePosition:function(){var t=this.parent.start*this.scale,e=this.parent.end*this.scale-t;this.viewPoint.css({left:t,width:e})}}),!0!==this.loadedPlugins.controlPanel&&e('<li class="gv-unsortable">').height((function(t,e){return e+s.height()})).prependTo(this.labelContainer)}function s(){var t=this.karyotype.container.parent();this.karyotype.destroy(),t.remove(),i.call(this)}this.on({afterInit:i,afterSetRange:function(){this.karyotype&&this.karyotype.updatePosition()},afterSetWidth:s,afterMoveTo:function(t){this.karyotype&&this.karyotype.chr!==t&&s.call(this)}})}}}}]);
//# sourceMappingURL=394.genoverse.js.map