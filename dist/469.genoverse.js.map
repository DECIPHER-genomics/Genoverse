{"version":3,"file":"469.genoverse.js","mappings":"kHAgFA,WAAiBA,SA9EF,WACb,IAAMC,EAASC,KAAKD,OAEpBC,KAAKC,GAAG,aAAa,WACnB,IAAMC,EAAUF,KACVG,EAAUH,KAAKG,QAErBJ,EAAOK,QAAQH,GAAG,aAAa,SAACI,GAC9B,IAAMC,EAAeD,EAAEE,cAAcD,aAErC,GAAIA,SAAAA,EAAcE,QACU,UAA1BF,EAAaE,MAAM,IAA4C,UAA1BF,EAAaE,MAAM,IAA4C,UAA1BF,EAAaE,MAAM,MACzFT,EAAO,+BAA+BU,OAAQ,CAClD,IAAMC,EAAmBX,EAAO,8BAA8BY,SAASR,GACjES,EAAmBb,EAAO,4CAA4Cc,UAAU,QAEhFC,EAAY,WAChBJ,EAAYK,SACZH,EAAiBG,QAClB,EAEDH,EAAiBX,GAAG,aAAa,SAACe,GAASA,EAAGC,iBAAkBD,EAAGE,iBAAoB,IACvFN,EAAiBX,GAAG,YAAa,SAACe,GAASA,EAAGC,iBAAkBD,EAAGE,iBAAoB,IACvFN,EAAiBX,GAAG,YAAaa,GACjCF,EAAiBX,GAAG,QAAQ,SAACe,GAC3BF,IACAE,EAAGC,iBACHD,EAAGE,kBAMH,IAHA,IAAMC,EAAiBC,OAAOC,OAAOL,EAAGT,cAAcD,aAAaa,OAAOG,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,KAAKC,cAAcF,EAAEC,KAAjC,IACzEE,EAAiB,GAEdC,EAAI,EAAGA,EAAIT,EAAMV,OAAQmB,IAAK,CACrC,IAAMC,EAAQV,EAAMS,GACdE,EAAQD,EAAKJ,KAAKM,MAAM,KAAKC,UAC7BC,EAAqB,OAAbH,EAAM,GACdI,EAAQJ,EAAMG,EAAK,EAAI,GAEzBE,OAAS,EAEThB,EAAMS,EAAI,IAAM,IAAIQ,OAAJ,WAAeP,EAAKJ,KAApB,aAAoCY,KAAKlB,EAAMS,EAAI,GAAGH,QACxEU,EAAYhB,IAAQS,IAGtBD,EAAeW,KAAK,CAClBT,KAAYA,EACZM,UAAYA,EACZF,GAAYA,EACZM,UAAYL,EAAIM,eAEnB,CAEDb,EAAec,SACb,SAACC,GACC,QAAO,YAAyBA,EAASH,YAAaI,MACpD,SAACC,GACC,IAAMC,EAAQD,EAAQ,QAASE,OAAO,CACpCrB,KAAYiB,EAASb,KAAKJ,KAC1BsB,KAAI,sBAAuBL,EAASb,KAAKJ,KAArC,oBAAqDiB,EAASb,KAAKmB,KAAnE,UACJC,SAAY,EACZC,SAAYR,EAASb,KACrBM,UAAYO,EAASP,UACrBF,GAAYS,EAAST,KAGvB/B,EAAQiD,SAASN,EAAO3C,EAAQkD,OAAO3C,OAAS,EACjD,IACD,WAAQ,GAEX,GAEJ,GACF,CACF,GACF,GACF,E,uBC9ED,IAAI4C,EAAM,CACT,QAAS,KACT,WAAY,KACZ,QAAS,KACT,WAAY,KACZ,WAAY,IACZ,cAAe,IACf,WAAY,KACZ,cAAe,KACf,QAAS,KACT,WAAY,KACZ,QAAS,KACT,WAAY,KACZ,QAAS,KACT,WAAY,MAGb,SAASC,EAAoBC,GAC5B,OAAOC,QAAQC,UAAUd,MAAK,WAC7B,IAAIe,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIlD,EAAI,IAAIuD,MAAM,uBAAyBL,EAAM,KAEjD,MADAlD,EAAEwD,KAAO,mBACHxD,CACP,CAGA,OAAOqD,EADEL,EAAIE,GAEd,GACD,CACAD,EAAoBQ,KAAO,WAAa,OAAO1C,OAAO0C,KAAKT,EAAM,EACjEC,EAAoBS,GAAK,KACzBC,EAAOC,QAAUX,C","sources":["webpack://genoverse/./src/js/plugins/fileDrop.js","webpack://genoverse/./src/js/Track/library/File/ lazy ^\\.\\/.*$ namespace object"],"sourcesContent":["import '../../css/fileDrop.css';\n\nconst plugin = function () {\n  const jQuery = this.jQuery;\n\n  this.on('afterInit', function () {\n    const browser = this;\n    const wrapper = this.wrapper;\n\n    jQuery(window).on('dragenter', (e) => {\n      const dataTransfer = e.originalEvent.dataTransfer;\n\n      if (dataTransfer?.types && (\n        dataTransfer.types[0] === 'Files' || dataTransfer.types[1] === 'Files' || dataTransfer.types[2] === 'Files'\n      ) && !jQuery('.gv-file-drop-total-overlay').length) {\n        const fileDropDiv      = jQuery('<div class=\"gv-file-drop\">').appendTo(wrapper);\n        const totalDropOverlay = jQuery('<div class=\"gv-file-drop-total-overlay\">').prependTo('body');\n\n        const dragleave = () => {\n          fileDropDiv.remove();\n          totalDropOverlay.remove();\n        };\n\n        totalDropOverlay.on('dragenter', (ev) => { ev.preventDefault(); ev.stopPropagation(); });\n        totalDropOverlay.on('dragover',  (ev) => { ev.preventDefault(); ev.stopPropagation(); });\n        totalDropOverlay.on('dragleave', dragleave);\n        totalDropOverlay.on('drop', (ev) => {\n          dragleave();\n          ev.preventDefault();\n          ev.stopPropagation();\n\n          // Sort in order to ensure that .bam files are before their .bam.bai files\n          const files          = Object.values(ev.originalEvent.dataTransfer.files).sort((a, b) => a.name.localeCompare(b.name));\n          const trackImporters = [];\n\n          for (let i = 0; i < files.length; i++) {\n            const file  = files[i];\n            const parts = file.name.split('.').reverse();\n            const gz    = parts[0] === 'gz';\n            const ext   = parts[gz ? 1 : 0];\n\n            let indexFile;\n\n            if (files[i + 1] && new RegExp(`^${file.name}\\\\.\\\\w+$`).test(files[i + 1].name)) {\n              indexFile = files[++i];\n            }\n\n            trackImporters.push({\n              file      : file,\n              indexFile : indexFile,\n              gz        : gz,\n              trackType : ext.toUpperCase(),\n            });\n          }\n\n          trackImporters.forEach(\n            (importer) => {\n              import(`../Track/library/File/${importer.trackType}`).then(\n                (imported) => {\n                  const track = imported.default.extend({\n                    name      : importer.file.name,\n                    info      : `Local file \"${importer.file.name}\", size: ${importer.file.size} bytes`,\n                    isLocal   : true,\n                    dataFile  : importer.file,\n                    indexFile : importer.indexFile,\n                    gz        : importer.gz,\n                  });\n\n                  browser.addTrack(track, browser.tracks.length - 1);\n                },\n                () => {}\n              );\n            }\n          );\n        });\n      }\n    });\n  });\n};\n\nexport default { fileDrop: plugin };\n","var map = {\n\t\"./BAM\": 4448,\n\t\"./BAM.js\": 4448,\n\t\"./BED\": 4149,\n\t\"./BED.js\": 4149,\n\t\"./BIGBED\": 617,\n\t\"./BIGBED.js\": 617,\n\t\"./BIGWIG\": 9658,\n\t\"./BIGWIG.js\": 9658,\n\t\"./GFF\": 8428,\n\t\"./GFF.js\": 8428,\n\t\"./VCF\": 1055,\n\t\"./VCF.js\": 1055,\n\t\"./WIG\": 8915,\n\t\"./WIG.js\": 8915\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 5405;\nmodule.exports = webpackAsyncContext;"],"names":["fileDrop","jQuery","this","on","browser","wrapper","window","e","dataTransfer","originalEvent","types","length","fileDropDiv","appendTo","totalDropOverlay","prependTo","dragleave","remove","ev","preventDefault","stopPropagation","files","Object","values","sort","a","b","name","localeCompare","trackImporters","i","file","parts","split","reverse","gz","ext","indexFile","RegExp","test","push","trackType","toUpperCase","forEach","importer","then","imported","track","extend","info","size","isLocal","dataFile","addTrack","tracks","map","webpackAsyncContext","req","Promise","resolve","__webpack_require__","o","Error","code","keys","id","module","exports"],"sourceRoot":""}